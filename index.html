function analyzeResults() {
    const parameters = {
        glucose: parseFloat(document.getElementById("glucose").value),
        cholesterol: parseFloat(document.getElementById("cholesterol").value),
        triglycerides: parseFloat(document.getElementById("triglycerides").value),
        hdl: parseFloat(document.getElementById("hdl").value),
        ldl: parseFloat(document.getElementById("ldl").value),
        hemoglobin: parseFloat(document.getElementById("hemoglobin").value),
        whiteBloodCells: parseFloat(document.getElementById("whiteBloodCells").value),
        platelets: parseFloat(document.getElementById("platelets").value),
        creatinine: parseFloat(document.getElementById("creatinine").value),
        bilirubin: parseFloat(document.getElementById("bilirubin").value),
        alkPhos: parseFloat(document.getElementById("alkPhos").value),
        ast: parseFloat(document.getElementById("ast").value),
        alt: parseFloat(document.getElementById("alt").value),
        uricAcid: parseFloat(document.getElementById("uricAcid").value),
        calcium: parseFloat(document.getElementById("calcium").value),
        sodium: parseFloat(document.getElementById("sodium").value),
    };

    let results = "";

    const ranges = {
        glucose: { low: 70, high: 140 },
        cholesterol: { low: 125, high: 200 },
        triglycerides: { low: 0, high: 150 },
        hdl: { low: 40, high: 60 },
        ldl: { low: 0, high: 100 },
        hemoglobin: { low: 13.5, high: 17.5 },
        whiteBloodCells: { low: 4, high: 11 },
        platelets: { low: 150, high: 450 },
        creatinine: { low: 0.6, high: 1.2 },
        bilirubin: { low: 0.1, high: 1.2 },
        alkPhos: { low: 44, high: 147 },
        ast: { low: 10, high: 40 },
        alt: { low: 7, high: 56 },
        uricAcid: { low: 3.5, high: 7.2 },
        calcium: { low: 8.5, high: 10.2 },
        sodium: { low: 135, high: 145 },
    };

    for (const [key, value] of Object.entries(parameters)) {
        if (!isNaN(value)) { // Only process if value is a number
            if (value < ranges[key].low) {
                results += `<span style="color: red;">${key.charAt(0).toUpperCase() + key.slice(1)}: Under range,</span><br>`;
            } else if (value > ranges[key].high) {
                results += `<span style="color: red;">${key.charAt(0).toUpperCase() + key.slice(1)}: High range,</span><br>`;
            } else {
                results += `<span style="color: green;">${key.charAt(0).toUpperCase() + key.slice(1)}: In range,</span><br>`;
            }
        }
    }

    const encodedResults = encodeURIComponent(results);
    window.location.href = `result.html?results=${encodedResults}`;
}
